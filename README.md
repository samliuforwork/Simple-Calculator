# 鋼構柱配置輔助工具

一個實用的 Web 應用程式，用於協助鋼構工程設計中的柱位配置和等距鐵條排布計算。

## 功能特色

### 🏢 柱高 + 斜梁配置器
簡易鋼構立面 CAD 工具，可視化展示鋼構柱配置與斜梁設計：

- **柱高設定**
  - 支援「自動斜率內插」：根據首尾兩支柱的高度，自動計算中間柱的高度
  - 支援「手動輸入」：逐一指定每支柱的高度
  
- **距離配置**
  - 「總長度均分」：等距分布柱子
  - 「自訂柱距」：不等距離配置，精確控制每跨距離

- **可視化顯示**
  - 柱位置與尺寸標註
  - 多排長度尺寸線
  - 各柱高度標示
  - 各跨 H 鋼斜長與坡度計算
  - 截面圖表可視化

- **特殊計算**
  - 柱寬兩端高差 ΔH 計算（固定標註寬度 100 mm）
  - 支援自訂柱截面深度

### 📏 等距鐵條排布計算
計算等距分布的鐵條或鋼筋排布：

- 根據總長度自動計算等距間距
- 生成詳細的排布尺寸表
- 實時預覽排布圖示

## 使用方式

### 快速開始

1. 用瀏覽器打開 `index.html` 文件
2. 選擇頁籤切換工具：
   - **柱高 + 斜梁**：用於鋼構柱配置設計
   - **等距鐵條排布**：用於鐵條或鋼筋排布計算

### 柱高配置工具操作流程

1. **設定柱子高度**
   - 選擇「自動斜率內插」或「手動輸入」模式
   - 如選「自動斜率內插」：輸入最低點和最高點高度
   - 如選「手動輸入」：在文本框中逐行輸入各柱高度

2. **設定柱之間距離**
   - 選擇「總長度均分」或「自訂柱距」模式
   - 如選「均分」：輸入總長度
   - 如選「自訂」：輸入各跨柱距（逗號、換行或分號分隔）

3. **設定柱參數**
   - 輸入柱截面深度（影響圖面寬度）
   - 選擇中間柱數量

4. **點擊「計算」按鈕**
   - 自動生成立面圖示
   - 顯示詳細計算數據

## 技術架構

### 文件結構

```
.
├── index.html              # 主頁面（中文繁體）
├── style.css               # 樣式表（響應式設計）
├── script.js               # 模塊化入口
└── js/
    ├── columnVisualizer.js # 柱配置可視化模塊
    ├── simpleSpacing.js    # 等距排布計算模塊
    └── tabs.js             # 頁籤管理模塊
```

### 技術棧

- **前端框架**：原生 HTML5、CSS3、JavaScript（ES6 Module）
- **圖形繪製**：Canvas API
- **響應式設計**：CSS Grid + Flexbox

### 模塊說明

| 模塊 | 功能 |
|------|------|
| `columnVisualizer.js` | 柱配置計算、Canvas 繪製、數據驗證 |
| `simpleSpacing.js` | 等距分布計算、排布表格生成 |
| `tabs.js` | 頁籤切換邏輯、UI 狀態管理 |

## 使用者介面設計

- **響應式佈局**：適配桌面及平板設備
- **兩欄卡片設計**：左側參數輸入，右側結果顯示
- **實時反饋**：表單驗證與錯誤提示
- **可訪問性**：ARIA 標籤支援

## 瀏覽器支援

- Chrome / Edge（推薦）
- Firefox
- Safari
- 其他現代瀏覽器（支援 ES6 Module）

## 計算說明

### 斜率內插演算法

當選擇「自動斜率內插」時：
$$H_i = H_{\text{start}} + (H_{\text{end}} - H_{\text{start}}) \times \frac{i}{n}$$

其中：
- $H_i$ = 第 i 支柱的高度
- $H_{\text{start}}$ = 首支柱高度
- $H_{\text{end}}$ = 末支柱高度
- $i$ = 柱序號（0 到 n）
- $n$ = 總柱數 - 1

### H 鋼斜長計算

$$L = \sqrt{(\Delta x)^2 + (\Delta H)^2}$$

其中 $\Delta x$ 為柱間距，$\Delta H$ 為相鄰兩柱的高度差。

## 常見問題

**Q: 柱截面深度有什麼作用？**
> A: 截面深度只影響在圖面上繪製的柱寬視覺效果，不參與高度或距離的計算。

**Q: 是否支援不等距柱配置？**
> A: 支援。選擇「自訂柱距」模式，逐一輸入各跨距離。

**Q: 能否導出設計圖？**
> A: 目前支援通過瀏覽器的截圖或 Canvas 保存功能進行導出。

## 授權

此專案為內部工具，請根據實際需求使用及修改。

## 聯絡方式

如有問題或建議，請提交 Issue 或 Pull Request。
